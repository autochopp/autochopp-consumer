<ion-header>
  <ion-navbar>
    <ion-title>Concluir Compra</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding class="default-bg">
  <ion-list>
    <form [formGroup]="cardForm" (ngSubmit)="initBuyRequest()">
      <ion-item color="secondary">
        <ion-label floating color="light">Nome do titular do cartão</ion-label>
        <ion-input type="text" formControlName="ownerName" name="ownerName"></ion-input>
        <!-- <ion-label floating color="danger" *ngIf="card.formErrors.ownerName as value">{{value}}</ion-label> -->
      </ion-item>
      
      <ion-item color="secondary">
        <ion-label floating color="light">Data de nascimento</ion-label>
        <ion-datetime formControlName="bornDate" name="bornDate" displayFormat="DD/MM/YY"></ion-datetime>
      </ion-item>
      
      <ion-grid no-padding>
        <ion-row>
          <ion-col col-3>
            <ion-item color="secondary">
              <ion-label floating color="light">DDD</ion-label>
              <ion-input type="number" formControlName="areaCode" name="areaCode"></ion-input>
              <!-- <ion-label floating color="danger" *ngIf="card.formErrors.areaCode as value">{{value}}</ion-label> -->
            </ion-item>
          </ion-col>
          <ion-col >
            <ion-item color="secondary">
              <ion-label floating color="light">Telefone</ion-label>
              <ion-input type="number" formControlName="phoneNumber" name="phoneNumber"></ion-input>
              <!-- <ion-label floating color="danger" *ngIf="card.formErrors.phoneNumber as value">{{value}}</ion-label> -->
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
      
      
      <ion-item color="secondary">
        <ion-label floating color="light">CPF do titular cartão</ion-label>
        <ion-input type="number" formControlName="ownerCPF" name="ownerCPF"></ion-input>
        <!-- <ion-label floating color="danger" *ngIf="card.formErrors.ownerCPF as value">{{value}}</ion-label> -->
      </ion-item>
      
      <ion-grid no-padding>
        <ion-row>
          <ion-col>
            <ion-item color="secondary">
              <ion-label floating color="light">Número do cartão</ion-label>
              <ion-input type="number" formControlName="cardNumber" name="cardNumber" (blur)="searchBrand()"></ion-input>
              <!-- <ion-label floating color="danger" *ngIf="card.formErrors.cardNumber as value">{{value}}</ion-label> -->
            </ion-item>
          </ion-col>
          
          <ion-col col-3>
            <ion-item color="secondary">
              <ion-label floating color="light">CVV</ion-label>
              <ion-input type="number" formControlName="securityCode" name="securityCode"></ion-input>
              <!-- <ion-label floating color="danger" *ngIf="card.formErrors.securityCode as value">{{value}}</ion-label> -->
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
      
      <ion-grid no-padding>
        <ion-row>
          <ion-col col-6>
            <ion-item color="secondary">
              <ion-label floating color="light">Mês de expiração</ion-label>
              <ion-datetime formControlName="expirationMonth" name="expirationMonth" displayFormat="hh"></ion-datetime>
            </ion-item>
          </ion-col>
          <ion-col col-6>
            <ion-item color="secondary">
              <ion-label floating color="light">Ano de expiração</ion-label>
              <ion-datetime formControlName="expirationYear" name="expirationYear" displayFormat="YYYY" min="2017" max="2032"></ion-datetime>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
      
      <div class='submit-button' padding>
        <button ion-button type="submit" color="primary" block>Concluir Compra</button>
      </div>
    </form>
  </ion-list>
</ion-content>